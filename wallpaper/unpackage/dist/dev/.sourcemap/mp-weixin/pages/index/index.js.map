{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"home pageBg\">\r\n\t\t<custom-nav-bar title=\"推荐\"></custom-nav-bar>\r\n\t\t\r\n\t\t<view class=\"banner\">\r\n\t\t\t<swiper indicator-dots indicator-color=\"rgba(255,255,255,0.5)\" indicator-active-color=\"#fff\" \r\n\t\t\tcircular  interval=\"3000\">\r\n\t\t\t\t<swiper-item v-for=\"item in bannerList\" :key=\"item._id\">\r\n\t\t\t\t\t<image :src=\"item.picurl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\t\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"notice\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<uni-icons type=\"sound-filled\" size=\"20\" color=\"#28b389\"></uni-icons>\r\n\t\t\t\t<text class=\"text\">公告</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"center\">\r\n\t\t\t\t<swiper  :autoplay=\"true\" circular :interval=\"1500\" :duration=\"1000\" vertical>\r\n\t\t\t\t\t<swiper-item v-for=\"item in noticeList\" :key='item._id'>\r\n\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#333\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"recommends\">\r\n\t\t\t<common-title>\r\n\t\t\t\t<template #name>每日推荐</template>\r\n\t\t\t\t<template #custom>\r\n\t\t\t\t\t<view class=\"date\">\r\n\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"24\" color=\"#28b389\"></uni-icons>\r\n\t\t\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t\t\t<uni-dateformat :date=\"Date.now()\" format=\"dd号\"></uni-dateformat>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</common-title>\r\n\t\t\t<view class=\"scroll-list\">\r\n\t\t\t\t<scroll-view scroll-x=\"true\" class=\"scroll-x\">\r\n\t\t\t\t\t<view class=\"box\" v-for=\"item in randomRec\" :key=\"item._id\" @click=\"goPreview\">\r\n\t\t\t\t\t\t<image :src=\"item.smallPicurl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"theme\">\r\n\t\t\t<common-title>\r\n\t\t\t\t<template #name>专题精选</template>\r\n\t\t\t\t<template #custom>\r\n\t\t\t\t\t<navigator url=\"\" class=\"more\">More+</navigator>\r\n\t\t\t\t</template>\r\n\t\t\t</common-title>\r\n\t\t\t\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<theme-item v-for=\"theme in specials\" :key=\"theme._id\" \r\n\t\t\t\tclass=\"item\" :classItem=\"theme\"\r\n\t\t\t\t>\r\n\t\t\t\t</theme-item>\r\n\t\t\t\t<theme-item :isMore=\"true\" class=\"item\" ></theme-item>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {apiGetBanners,apiGetNoticeList,apiGetRandomRec,apiGetClassify} from \"@/api/apis.js\"\r\n\t// 顶部轮播\r\n\tconst bannerList = ref([])\r\n\r\n\tfunction getBanner(){\r\n\t\tapiGetBanners().then((res)=>{\r\n\t\t\tbannerList.value = res.data\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 公告列表\r\n\tconst noticeList = ref([])\r\n\tfunction getNoticeList(){\r\n\t\tapiGetNoticeList().then((res)=>{\r\n\t\t\tnoticeList.value = res.data\r\n\t\t})\r\n\t}\r\n\t\r\n\t\r\n\t// 每日推荐\r\n\tconst randomRec = ref([])\r\n\tfunction getRandomRec(){\r\n\t\tapiGetRandomRec().then((res)=>{\r\n\t\t\trandomRec.value = res.data\r\n\t\t})\r\n\t}\r\n\t\r\n\t\r\n\t// 专题精选\r\n\tconst specials = ref([])\r\n\tfunction getSpecialList(){\r\n\t\tapiGetClassify({\r\n\t\t\tselect:true\r\n\t\t}).then((res)=>{\r\n\t\t\tspecials.value = res.data\r\n\t\t})\r\n\t}\r\n\t\r\n\t\r\n\tgetBanner()\r\n\tgetNoticeList()\r\n\tgetRandomRec()\r\n\tgetSpecialList()\r\n\t\r\n\t// 去预览页\r\n\tconst goPreview = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl:'/pages/preview/preview'\r\n\t\t})\r\n\t}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.home{\r\n\t// border:2px solid red;\r\n\t\r\n\t.banner{\r\n\t\twidth: 750rpx;\r\n\t\tpadding: 30rpx 0;\r\n\t\t\r\n\t\tswiper{\t\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 340rpx;\r\n\t\t\t\r\n\t\t\toverflow: hidden;\r\n\t\t\t\r\n\t\t\tswiper-item{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tpadding: 0 30rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 图片的宽度高度确定时，图片需要按照父元素高度宽度设置，mode模式\r\n\t\t\t\timage{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tborder-radius: 15rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.notice{\r\n\r\n\t\twidth: 690rpx;\r\n\t\theight: 80rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tborder-radius: 80rpx;\r\n\t\tbackground-color: #f9f9f9;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t\r\n\t\t.left{\r\n\t\t\twidth:140rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\t.text{\r\n\t\t\t\tcolor:$brand-theme-color;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.center{\r\n\t\t\tflex: 1;\r\n\t\t\theight: 100%;\r\n\t\t\tline-height: 80rpx;\r\n\t\t\t\r\n\t\t\tswiper{\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t&-item{\r\n\t\t\t\t\t// 开了flex以后，文本溢出不显示省略号了\r\n\t\t\t\t\t// display: flex;\r\n\t\t\t\t\t// align-items: center;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.right{\r\n\t\t\twidth: 70rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\t// background-color: #28b389;\r\n\t\t}\r\n\t}\r\n\r\n\t.recommends{\r\n\t\tpadding-top: 50rpx;\r\n\t\t\r\n\t\t.date{\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\t.text{\r\n\t\t\t\tmargin-left: 5rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.scroll-list{\r\n\t\t\twidth: 690rpx;\r\n\t\t\tmargin-left: 30rpx;\r\n\t\t\tmargin-right: 30rpx;\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\r\n\t\t\t.scroll-x{\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\r\n\t\t\t\t.box{\r\n\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\theight: 430rpx;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t\t\t&:last-child{\r\n\t\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\timage{\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.theme{\r\n\t\tpadding-top: 50rpx;\r\n\t\t\r\n\t\t.more{\r\n\t\t\tcolor: #8f8f8f;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.content{\r\n\t\t\t// border: 1px solid red;\r\n\t\t\tmargin: 30rpx auto;\r\n\t\t\twidth: 690rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\t\r\n\t\t\t.item{\r\n\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t\tmargin-bottom: 15rpx;\r\n\t\t\t\t&:nth-child(3n){\r\n\t\t\t\t\tmargin-right:0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n","import MiniProgramPage from 'C:/Users/admin/Desktop/xxj/Uniapp学习/wallpaper/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","apiGetBanners","apiGetNoticeList","apiGetRandomRec","apiGetClassify","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AA0EC,UAAM,aAAaA,cAAG,IAAC,EAAE;AAEzB,aAAS,YAAW;AACnBC,6BAAe,EAAC,KAAK,CAAC,QAAM;AAC3B,mBAAW,QAAQ,IAAI;AAAA,MAC1B,CAAG;AAAA,IACD;AAGD,UAAM,aAAaD,cAAG,IAAC,EAAE;AACzB,aAAS,gBAAe;AACvBE,gCAAkB,EAAC,KAAK,CAAC,QAAM;AAC9B,mBAAW,QAAQ,IAAI;AAAA,MAC1B,CAAG;AAAA,IACD;AAID,UAAM,YAAYF,cAAG,IAAC,EAAE;AACxB,aAAS,eAAc;AACtBG,+BAAiB,EAAC,KAAK,CAAC,QAAM;AAC7B,kBAAU,QAAQ,IAAI;AAAA,MACzB,CAAG;AAAA,IACD;AAID,UAAM,WAAWH,cAAG,IAAC,EAAE;AACvB,aAAS,iBAAgB;AACxBI,8BAAe;AAAA,QACd,QAAO;AAAA,MACV,CAAG,EAAE,KAAK,CAAC,QAAM;AACd,iBAAS,QAAQ,IAAI;AAAA,MACxB,CAAG;AAAA,IACD;AAGD,cAAW;AACX,kBAAe;AACf,iBAAc;AACd,mBAAgB;AAGhB,UAAM,YAAY,MAAM;AACvBC,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI;AAAA,MACP,CAAG;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxHF,GAAG,WAAW,eAAe;"}