{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["const BASE_URL = \"https://tea.qingnian8.com/api/bizhi\"\r\n\r\nexport  function request(config = {}){\r\n\t// 假如url都是短链\r\n\tlet {\r\n\t\turl,\r\n\t\tdata={},\r\n\t\tmethod='get',\r\n\t\theader={},\r\n\t} = config\r\n\t\r\n\turl = BASE_URL+url\r\n\theader['access-key'] = \"xxjkey9824\"\r\n\r\n\treturn new Promise((resolve,reject)=>{\r\n\t\tuni.request(\r\n\t\t{\r\n\t\t\turl,\r\n\t\t\tdata,\r\n\t\t\tmethod,\r\n\t\t\theader,\r\n\t\t\tsuccess:(res)=>{\r\n\t\t\t\tif(res.data.errCode===0){\r\n\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t}else if(res.data.errCode === 400){\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:\"错误提示\",\r\n\t\t\t\t\t\tcontent:res.data.errMsg,\r\n\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:res.data.errMsg,\r\n\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail: (err) => {\r\n\t\t\t\treject(err)\r\n\t\t\t}\r\n\t\t}\r\n\t\t)\r\n\t})\r\n}"],"names":["uni"],"mappings":";;AAAA,MAAM,WAAW;AAET,SAAS,QAAQ,SAAS,IAAG;AAEpC,MAAI;AAAA,IACH;AAAA,IACA,OAAK,CAAE;AAAA,IACP,SAAO;AAAA,IACP,SAAO,CAAE;AAAA,EACX,IAAK;AAEJ,QAAM,WAAS;AACf,SAAO,YAAY,IAAI;AAEvB,SAAO,IAAI,QAAQ,CAAC,SAAQ,WAAS;AACpCA,kBAAAA,MAAI;AAAA,MACJ;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,SAAQ,CAAC,QAAM;AACd,cAAG,IAAI,KAAK,YAAU,GAAE;AACvB,oBAAQ,IAAI,IAAI;AAAA,UAChB,WAAQ,IAAI,KAAK,YAAY,KAAI;AACjCA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAM;AAAA,cACN,SAAQ,IAAI,KAAK;AAAA,cACjB,YAAW;AAAA,YACjB,CAAM;AACD,mBAAO,IAAI,IAAI;AAAA,UACpB,OAAS;AACJA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAM,IAAI,KAAK;AAAA,cACf,MAAK;AAAA,YACX,CAAM;AACD,mBAAO,IAAI,IAAI;AAAA,UACf;AAAA,QACD;AAAA,QACD,MAAM,CAAC,QAAQ;AACd,iBAAO,GAAG;AAAA,QACV;AAAA,MACD;AAAA,IACA;AAAA,EACH,CAAE;AACF;;"}